<!-- üîù Encabezado superior (barra fija) -->
<header class="main-header">

  <!-- ‚ò∞ Bot√≥n de men√∫ hamburguesa -->
  <!-- Alterna el estado del sidebar (abrir/cerrar) -->
  <button class="sidebar-toggle" (click)="toggleSidebar()">
    <i class="pi pi-bars"></i>
  </button>

  <!-- üë§ Secci√≥n de usuario y acciones del encabezado -->
  <div class="header-actions">

    <!-- Bot√≥n para abrir/cerrar el men√∫ de usuario -->
    <button class="user-menu-toggle" (click)="toggleUserMenu($event)">
      <i class="pi pi-user"></i>
    </button>

    <!-- üìã Men√∫ desplegable del usuario -->
    <!-- Solo visible si userMenuOpen es true -->
    <div
      class="user-dropdown"
      *ngIf="userMenuOpen"
      [class.show]="userMenuOpen"
      (click)="$event.stopPropagation()">

      <!-- Encabezado del men√∫: avatar, nombre y correo -->
      <div class="user-dropdown-header">
        <div class="user-avatar">
          <i class="pi pi-user"></i>
        </div>
        <div class="user-info">
          <!-- Datos del usuario autenticado -->
          <div class="user-name">
            {{ currentUser?.nombres || 'Usuario' }} {{ currentUser?.apellidos || '' }}
          </div>
          <div class="user-email">{{ currentUser?.identifier }}</div>
        </div>
      </div>

      <!-- Opciones del men√∫ de usuario -->
      <div class="user-dropdown-menu">
        <!-- Bot√≥n para ir al perfil del usuario -->
        <button class="dropdown-item" (click)="navigateToProfile()">
          <i class="pi pi-user"></i>
          <span>Mi Perfil</span>
        </button>

        <!-- Bot√≥n para cerrar sesi√≥n -->
        <button class="dropdown-item logout-item" (click)="logout()">
          <i class="pi pi-sign-out"></i>
          <span>Cerrar Sesi√≥n</span>
        </button>
      </div>
    </div>
  </div>
</header>

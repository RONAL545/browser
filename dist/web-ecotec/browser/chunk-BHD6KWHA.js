import{a as xt,b as wt,c as Tt,d as It}from"./chunk-KX5ZS23E.js";import{a as ut}from"./chunk-N66HE5FC.js";import{a as gt}from"./chunk-TIKJCLF4.js";import{a as _t}from"./chunk-EM3PZ2DS.js";import{e as be,h as bt,i as vt,j as Ct,k as yt}from"./chunk-6CKB7PEI.js";import{a as dt,g as ft,h as ht}from"./chunk-MD5RATJP.js";import{B as pt,E as he,L as _e,a as j,c as et,d as y,f as tt,g as nt,i as it,j as ot,k as at,l as rt,m as st,o as lt,p as Se,q as mt,r as ct,z as fe}from"./chunk-QRAL5O2C.js";import{Z as Me,_ as Je,c as Ie,d as Oe,f as de,g as We,h as pe,j as Ye,l as Xe,na as M,ra as ue,sa as L,ya as Ke}from"./chunk-724CLJNZ.js";import{a as ge}from"./chunk-H7Z7H6FO.js";import{$a as m,Aa as k,Ab as C,Ba as ze,Bb as c,Cb as T,Db as oe,Eb as $e,Ec as Qe,Fb as ae,Fc as ce,Ga as v,Gb as re,Hb as se,Ib as q,Jb as I,Kb as Te,L as F,La as w,Lb as qe,M as Ae,Ma as Re,Nb as Be,Oa as S,P as J,Q as K,Qa as u,V as _,W as b,Wa as g,X as x,Xa as V,Ya as D,ab as r,bb as a,cb as p,db as A,ea as Ne,eb as N,ec as le,fa as U,fb as z,fc as B,gb as je,hb as Ze,ib as we,jb as E,kb as ee,lb as f,nb as d,pc as Le,qb as te,qc as Ge,rc as me,sb as ne,tb as ie,tc as He,va as s,wc as P,yb as R,zb as O}from"./chunk-YLSQQ73F.js";import{a as De}from"./chunk-4CLCTAJ7.js";var Ft=["data-p-icon","exclamation-triangle"],Ot=(()=>{class t extends fe{pathId;ngOnInit(){super.ngOnInit(),this.pathId="url(#"+j()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=U(t)))(o||t)}})();static \u0275cmp=w({type:t,selectors:[["","data-p-icon","exclamation-triangle"]],features:[S],attrs:Ft,decls:7,vars:2,consts:[["d","M13.4018 13.1893H0.598161C0.49329 13.189 0.390283 13.1615 0.299143 13.1097C0.208003 13.0578 0.131826 12.9832 0.0780112 12.8932C0.0268539 12.8015 0 12.6982 0 12.5931C0 12.4881 0.0268539 12.3848 0.0780112 12.293L6.47985 1.08982C6.53679 1.00399 6.61408 0.933574 6.70484 0.884867C6.7956 0.836159 6.897 0.810669 7 0.810669C7.103 0.810669 7.2044 0.836159 7.29516 0.884867C7.38592 0.933574 7.46321 1.00399 7.52015 1.08982L13.922 12.293C13.9731 12.3848 14 12.4881 14 12.5931C14 12.6982 13.9731 12.8015 13.922 12.8932C13.8682 12.9832 13.792 13.0578 13.7009 13.1097C13.6097 13.1615 13.5067 13.189 13.4018 13.1893ZM1.63046 11.989H12.3695L7 2.59425L1.63046 11.989Z","fill","currentColor"],["d","M6.99996 8.78801C6.84143 8.78594 6.68997 8.72204 6.57787 8.60993C6.46576 8.49782 6.40186 8.34637 6.39979 8.18784V5.38703C6.39979 5.22786 6.46302 5.0752 6.57557 4.96265C6.68813 4.85009 6.84078 4.78686 6.99996 4.78686C7.15914 4.78686 7.31179 4.85009 7.42435 4.96265C7.5369 5.0752 7.60013 5.22786 7.60013 5.38703V8.18784C7.59806 8.34637 7.53416 8.49782 7.42205 8.60993C7.30995 8.72204 7.15849 8.78594 6.99996 8.78801Z","fill","currentColor"],["d","M6.99996 11.1887C6.84143 11.1866 6.68997 11.1227 6.57787 11.0106C6.46576 10.8985 6.40186 10.7471 6.39979 10.5885V10.1884C6.39979 10.0292 6.46302 9.87658 6.57557 9.76403C6.68813 9.65147 6.84078 9.58824 6.99996 9.58824C7.15914 9.58824 7.31179 9.65147 7.42435 9.76403C7.5369 9.87658 7.60013 10.0292 7.60013 10.1884V10.5885C7.59806 10.7471 7.53416 10.8985 7.42205 11.0106C7.30995 11.1227 7.15849 11.1866 6.99996 11.1887Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,o){n&1&&(x(),A(0,"g"),z(1,"path",0)(2,"path",1)(3,"path",2),N(),A(4,"defs")(5,"clipPath",3),z(6,"rect",4),N()()),n&2&&(g("clip-path",o.pathId),s(5),ee("id",o.pathId))},encapsulation:2})}return t})();var Ut=["data-p-icon","info-circle"],Mt=(()=>{class t extends fe{pathId;ngOnInit(){super.ngOnInit(),this.pathId="url(#"+j()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=U(t)))(o||t)}})();static \u0275cmp=w({type:t,selectors:[["","data-p-icon","info-circle"]],features:[S],attrs:Ut,decls:5,vars:2,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M3.11101 12.8203C4.26215 13.5895 5.61553 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.61553 13.5895 4.26215 12.8203 3.11101C12.0511 1.95987 10.9579 1.06266 9.67879 0.532846C8.3997 0.00303296 6.99224 -0.13559 5.63437 0.134506C4.2765 0.404603 3.02922 1.07129 2.05026 2.05026C1.07129 3.02922 0.404603 4.2765 0.134506 5.63437C-0.13559 6.99224 0.00303296 8.3997 0.532846 9.67879C1.06266 10.9579 1.95987 12.0511 3.11101 12.8203ZM3.75918 2.14976C4.71846 1.50879 5.84628 1.16667 7 1.16667C8.5471 1.16667 10.0308 1.78125 11.1248 2.87521C12.2188 3.96918 12.8333 5.45291 12.8333 7C12.8333 8.15373 12.4912 9.28154 11.8502 10.2408C11.2093 11.2001 10.2982 11.9478 9.23232 12.3893C8.16642 12.8308 6.99353 12.9463 5.86198 12.7212C4.73042 12.4962 3.69102 11.9406 2.87521 11.1248C2.05941 10.309 1.50384 9.26958 1.27876 8.13803C1.05367 7.00647 1.16919 5.83358 1.61071 4.76768C2.05222 3.70178 2.79989 2.79074 3.75918 2.14976ZM7.00002 4.8611C6.84594 4.85908 6.69873 4.79698 6.58977 4.68801C6.48081 4.57905 6.4187 4.43185 6.41669 4.27776V3.88888C6.41669 3.73417 6.47815 3.58579 6.58754 3.4764C6.69694 3.367 6.84531 3.30554 7.00002 3.30554C7.15473 3.30554 7.3031 3.367 7.4125 3.4764C7.52189 3.58579 7.58335 3.73417 7.58335 3.88888V4.27776C7.58134 4.43185 7.51923 4.57905 7.41027 4.68801C7.30131 4.79698 7.1541 4.85908 7.00002 4.8611ZM7.00002 10.6945C6.84594 10.6925 6.69873 10.6304 6.58977 10.5214C6.48081 10.4124 6.4187 10.2652 6.41669 10.1111V6.22225C6.41669 6.06754 6.47815 5.91917 6.58754 5.80977C6.69694 5.70037 6.84531 5.63892 7.00002 5.63892C7.15473 5.63892 7.3031 5.70037 7.4125 5.80977C7.52189 5.91917 7.58335 6.06754 7.58335 6.22225V10.1111C7.58134 10.2652 7.51923 10.4124 7.41027 10.5214C7.30131 10.6304 7.1541 10.6925 7.00002 10.6945Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,o){n&1&&(x(),A(0,"g"),z(1,"path",0),N(),A(2,"defs")(3,"clipPath",1),z(4,"rect",2),N()()),n&2&&(g("clip-path",o.pathId),s(3),ee("id",o.pathId))},encapsulation:2})}return t})();var St=`
    .p-toast {
        width: dt('toast.width');
        white-space: pre-line;
        word-break: break-word;
    }

    .p-toast-message {
        margin: 0 0 1rem 0;
    }

    .p-toast-message-icon {
        flex-shrink: 0;
        font-size: dt('toast.icon.size');
        width: dt('toast.icon.size');
        height: dt('toast.icon.size');
    }

    .p-toast-message-content {
        display: flex;
        align-items: flex-start;
        padding: dt('toast.content.padding');
        gap: dt('toast.content.gap');
    }

    .p-toast-message-text {
        flex: 1 1 auto;
        display: flex;
        flex-direction: column;
        gap: dt('toast.text.gap');
    }

    .p-toast-summary {
        font-weight: dt('toast.summary.font.weight');
        font-size: dt('toast.summary.font.size');
    }

    .p-toast-detail {
        font-weight: dt('toast.detail.font.weight');
        font-size: dt('toast.detail.font.size');
    }

    .p-toast-close-button {
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
        cursor: pointer;
        background: transparent;
        transition:
            background dt('toast.transition.duration'),
            color dt('toast.transition.duration'),
            outline-color dt('toast.transition.duration'),
            box-shadow dt('toast.transition.duration');
        outline-color: transparent;
        color: inherit;
        width: dt('toast.close.button.width');
        height: dt('toast.close.button.height');
        border-radius: dt('toast.close.button.border.radius');
        margin: -25% 0 0 0;
        right: -25%;
        padding: 0;
        border: none;
        user-select: none;
    }

    .p-toast-close-button:dir(rtl) {
        margin: -25% 0 0 auto;
        left: -25%;
        right: auto;
    }

    .p-toast-message-info,
    .p-toast-message-success,
    .p-toast-message-warn,
    .p-toast-message-error,
    .p-toast-message-secondary,
    .p-toast-message-contrast {
        border-width: dt('toast.border.width');
        border-style: solid;
        backdrop-filter: blur(dt('toast.blur'));
        border-radius: dt('toast.border.radius');
    }

    .p-toast-close-icon {
        font-size: dt('toast.close.icon.size');
        width: dt('toast.close.icon.size');
        height: dt('toast.close.icon.size');
    }

    .p-toast-close-button:focus-visible {
        outline-width: dt('focus.ring.width');
        outline-style: dt('focus.ring.style');
        outline-offset: dt('focus.ring.offset');
    }

    .p-toast-message-info {
        background: dt('toast.info.background');
        border-color: dt('toast.info.border.color');
        color: dt('toast.info.color');
        box-shadow: dt('toast.info.shadow');
    }

    .p-toast-message-info .p-toast-detail {
        color: dt('toast.info.detail.color');
    }

    .p-toast-message-info .p-toast-close-button:focus-visible {
        outline-color: dt('toast.info.close.button.focus.ring.color');
        box-shadow: dt('toast.info.close.button.focus.ring.shadow');
    }

    .p-toast-message-info .p-toast-close-button:hover {
        background: dt('toast.info.close.button.hover.background');
    }

    .p-toast-message-success {
        background: dt('toast.success.background');
        border-color: dt('toast.success.border.color');
        color: dt('toast.success.color');
        box-shadow: dt('toast.success.shadow');
    }

    .p-toast-message-success .p-toast-detail {
        color: dt('toast.success.detail.color');
    }

    .p-toast-message-success .p-toast-close-button:focus-visible {
        outline-color: dt('toast.success.close.button.focus.ring.color');
        box-shadow: dt('toast.success.close.button.focus.ring.shadow');
    }

    .p-toast-message-success .p-toast-close-button:hover {
        background: dt('toast.success.close.button.hover.background');
    }

    .p-toast-message-warn {
        background: dt('toast.warn.background');
        border-color: dt('toast.warn.border.color');
        color: dt('toast.warn.color');
        box-shadow: dt('toast.warn.shadow');
    }

    .p-toast-message-warn .p-toast-detail {
        color: dt('toast.warn.detail.color');
    }

    .p-toast-message-warn .p-toast-close-button:focus-visible {
        outline-color: dt('toast.warn.close.button.focus.ring.color');
        box-shadow: dt('toast.warn.close.button.focus.ring.shadow');
    }

    .p-toast-message-warn .p-toast-close-button:hover {
        background: dt('toast.warn.close.button.hover.background');
    }

    .p-toast-message-error {
        background: dt('toast.error.background');
        border-color: dt('toast.error.border.color');
        color: dt('toast.error.color');
        box-shadow: dt('toast.error.shadow');
    }

    .p-toast-message-error .p-toast-detail {
        color: dt('toast.error.detail.color');
    }

    .p-toast-message-error .p-toast-close-button:focus-visible {
        outline-color: dt('toast.error.close.button.focus.ring.color');
        box-shadow: dt('toast.error.close.button.focus.ring.shadow');
    }

    .p-toast-message-error .p-toast-close-button:hover {
        background: dt('toast.error.close.button.hover.background');
    }

    .p-toast-message-secondary {
        background: dt('toast.secondary.background');
        border-color: dt('toast.secondary.border.color');
        color: dt('toast.secondary.color');
        box-shadow: dt('toast.secondary.shadow');
    }

    .p-toast-message-secondary .p-toast-detail {
        color: dt('toast.secondary.detail.color');
    }

    .p-toast-message-secondary .p-toast-close-button:focus-visible {
        outline-color: dt('toast.secondary.close.button.focus.ring.color');
        box-shadow: dt('toast.secondary.close.button.focus.ring.shadow');
    }

    .p-toast-message-secondary .p-toast-close-button:hover {
        background: dt('toast.secondary.close.button.hover.background');
    }

    .p-toast-message-contrast {
        background: dt('toast.contrast.background');
        border-color: dt('toast.contrast.border.color');
        color: dt('toast.contrast.color');
        box-shadow: dt('toast.contrast.shadow');
    }

    .p-toast-message-contrast .p-toast-detail {
        color: dt('toast.contrast.detail.color');
    }

    .p-toast-message-contrast .p-toast-close-button:focus-visible {
        outline-color: dt('toast.contrast.close.button.focus.ring.color');
        box-shadow: dt('toast.contrast.close.button.focus.ring.shadow');
    }

    .p-toast-message-contrast .p-toast-close-button:hover {
        background: dt('toast.contrast.close.button.hover.background');
    }

    .p-toast-top-center {
        transform: translateX(-50%);
    }

    .p-toast-bottom-center {
        transform: translateX(-50%);
    }

    .p-toast-center {
        min-width: 20vw;
        transform: translate(-50%, -50%);
    }

    .p-toast-message-enter-from {
        opacity: 0;
        transform: translateY(50%);
    }

    .p-toast-message-leave-from {
        max-height: 1000px;
    }

    .p-toast .p-toast-message.p-toast-message-leave-to {
        max-height: 0;
        opacity: 0;
        margin-bottom: 0;
        overflow: hidden;
    }

    .p-toast-message-enter-active {
        transition:
            transform 0.3s,
            opacity 0.3s;
    }

    .p-toast-message-leave-active {
        transition:
            max-height 0.45s cubic-bezier(0, 1, 0, 1),
            opacity 0.3s,
            margin-bottom 0.3s;
    }
`;var Vt=(t,i,e,n)=>({showTransformParams:t,hideTransformParams:i,showTransitionParams:e,hideTransitionParams:n}),Dt=t=>({value:"visible",params:t}),At=(t,i)=>({$implicit:t,closeFn:i}),Nt=t=>({$implicit:t});function zt(t,i){t&1&&we(0)}function Rt(t,i){if(t&1&&u(0,zt,1,0,"ng-container",3),t&2){let e=d();m("ngTemplateOutlet",e.headlessTemplate)("ngTemplateOutletContext",qe(2,At,e.message,e.onCloseIconClick))}}function jt(t,i){if(t&1&&p(0,"span"),t&2){let e=d(3);C(e.cn(e.cx("messageIcon"),e.message==null?null:e.message.icon))}}function Zt(t,i){if(t&1&&(x(),p(0,"svg",10)),t&2){let e=d(4);C(e.cx("messageIcon")),g("aria-hidden",!0)("data-pc-section","icon")}}function $t(t,i){if(t&1&&(x(),p(0,"svg",11)),t&2){let e=d(4);C(e.cx("messageIcon")),g("aria-hidden",!0)("data-pc-section","icon")}}function qt(t,i){if(t&1&&(x(),p(0,"svg",12)),t&2){let e=d(4);C(e.cx("messageIcon")),g("aria-hidden",!0)("data-pc-section","icon")}}function Bt(t,i){if(t&1&&(x(),p(0,"svg",13)),t&2){let e=d(4);C(e.cx("messageIcon")),g("aria-hidden",!0)("data-pc-section","icon")}}function Lt(t,i){if(t&1&&(x(),p(0,"svg",11)),t&2){let e=d(4);C(e.cx("messageIcon")),g("aria-hidden",!0)("data-pc-section","icon")}}function Gt(t,i){if(t&1&&V(0,Zt,1,4,":svg:svg",6)(1,$t,1,4,":svg:svg",7)(2,qt,1,4,":svg:svg",8)(3,Bt,1,4,":svg:svg",9)(4,Lt,1,4,":svg:svg",7),t&2){let e,n=d(3);D((e=n.message.severity)==="success"?0:e==="info"?1:e==="error"?2:e==="warn"?3:4)}}function Ht(t,i){if(t&1&&(je(0),V(1,jt,1,2,"span",2)(2,Gt,5,1),r(3,"div",5)(4,"div",5),c(5),a(),r(6,"div",5),c(7),a()(),Ze()),t&2){let e=d(2);s(),D(e.message.icon?1:2),s(2),m("ngClass",e.cx("messageText")),g("data-pc-section","text"),s(),m("ngClass",e.cx("summary")),g("data-pc-section","summary"),s(),oe(" ",e.message.summary," "),s(),m("ngClass",e.cx("detail")),g("data-pc-section","detail"),s(),T(e.message.detail)}}function Qt(t,i){t&1&&we(0)}function Wt(t,i){if(t&1&&p(0,"span"),t&2){let e=d(4);C(e.cn(e.cx("closeIcon"),e.message==null?null:e.message.closeIcon))}}function Yt(t,i){if(t&1&&u(0,Wt,1,2,"span",16),t&2){let e=d(3);m("ngIf",e.message.closeIcon)}}function Xt(t,i){if(t&1&&(x(),p(0,"svg",17)),t&2){let e=d(3);C(e.cx("closeIcon")),g("aria-hidden",!0)("data-pc-section","closeicon")}}function Jt(t,i){if(t&1){let e=E();r(0,"div")(1,"button",14),f("click",function(o){_(e);let l=d(2);return b(l.onCloseIconClick(o))})("keydown.enter",function(o){_(e);let l=d(2);return b(l.onCloseIconClick(o))}),V(2,Yt,1,1,"span",2)(3,Xt,1,4,":svg:svg",15),a()()}if(t&2){let e=d(2);s(),g("class",e.cx("closeButton"))("aria-label",e.closeAriaLabel)("data-pc-section","closebutton"),s(),D(e.message.closeIcon?2:3)}}function Kt(t,i){if(t&1&&(r(0,"div"),u(1,Ht,8,9,"ng-container",4)(2,Qt,1,0,"ng-container",3),V(3,Jt,4,4,"div"),a()),t&2){let e=d();C(e.cn(e.cx("messageContent"),e.message==null?null:e.message.contentStyleClass)),g("data-pc-section","content"),s(),m("ngIf",!e.template),s(),m("ngTemplateOutlet",e.template)("ngTemplateOutletContext",Te(7,Nt,e.message)),s(),D((e.message==null?null:e.message.closable)!==!1?3:-1)}}var en=["message"],tn=["headless"];function nn(t,i){if(t&1){let e=E();r(0,"p-toastItem",1),f("onClose",function(o){_(e);let l=d();return b(l.onMessageClose(o))})("@toastAnimation.start",function(o){_(e);let l=d();return b(l.onAnimationStart(o))})("@toastAnimation.done",function(o){_(e);let l=d();return b(l.onAnimationEnd(o))}),a()}if(t&2){let e=i.$implicit,n=i.index,o=d();m("message",e)("index",n)("life",o.life)("template",o.template||o._template)("headlessTemplate",o.headlessTemplate||o._headlessTemplate)("@toastAnimation",void 0)("showTransformOptions",o.showTransformOptions)("hideTransformOptions",o.hideTransformOptions)("showTransitionOptions",o.showTransitionOptions)("hideTransitionOptions",o.hideTransitionOptions)}}var on={root:({instance:t})=>{let{_position:i}=t;return{position:"fixed",top:i==="top-right"||i==="top-left"||i==="top-center"?"20px":i==="center"?"50%":null,right:(i==="top-right"||i==="bottom-right")&&"20px",bottom:(i==="bottom-left"||i==="bottom-right"||i==="bottom-center")&&"20px",left:i==="top-left"||i==="bottom-left"?"20px":i==="center"||i==="top-center"||i==="bottom-center"?"50%":null}}},an={root:({instance:t})=>["p-toast p-component",`p-toast-${t._position}`],message:({instance:t})=>({"p-toast-message":!0,"p-toast-message-info":t.message.severity==="info"||t.message.severity===void 0,"p-toast-message-warn":t.message.severity==="warn","p-toast-message-error":t.message.severity==="error","p-toast-message-success":t.message.severity==="success","p-toast-message-secondary":t.message.severity==="secondary","p-toast-message-contrast":t.message.severity==="contrast"}),messageContent:"p-toast-message-content",messageIcon:({instance:t})=>({"p-toast-message-icon":!0,[`pi ${t.message.icon}`]:!!t.message.icon}),messageText:"p-toast-message-text",summary:"p-toast-summary",detail:"p-toast-detail",closeButton:"p-toast-close-button",closeIcon:({instance:t})=>({"p-toast-close-icon":!0,[`pi ${t.message.closeIcon}`]:!!t.message.closeIcon})},ve=(()=>{class t extends Ke{name="toast";theme=St;classes=an;inlineStyles=on;static \u0275fac=(()=>{let e;return function(o){return(e||(e=U(t)))(o||t)}})();static \u0275prov=F({token:t,factory:t.\u0275fac})}return t})();var rn=(()=>{class t extends Se{zone;message;index;life;template;headlessTemplate;showTransformOptions;hideTransformOptions;showTransitionOptions;hideTransitionOptions;onClose=new k;_componentStyle=K(ve);timeout;constructor(e){super(),this.zone=e}ngAfterViewInit(){super.ngAfterViewInit(),this.initTimeout()}initTimeout(){this.message?.sticky||(this.clearTimeout(),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message?.life||this.life||3e3)}))}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick=e=>{this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),e.preventDefault()};get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}ngOnDestroy(){this.clearTimeout(),super.ngOnDestroy()}static \u0275fac=function(n){return new(n||t)(v(ze))};static \u0275cmp=w({type:t,selectors:[["p-toastItem"]],inputs:{message:"message",index:[2,"index","index",B],life:[2,"life","life",B],template:"template",headlessTemplate:"headlessTemplate",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},features:[q([ve]),S],decls:4,vars:14,consts:[["container",""],["role","alert","aria-live","assertive","aria-atomic","true",3,"mouseenter","mouseleave"],[3,"class"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],[3,"ngClass"],["data-p-icon","check",3,"class"],["data-p-icon","info-circle",3,"class"],["data-p-icon","times-circle",3,"class"],["data-p-icon","exclamation-triangle",3,"class"],["data-p-icon","check"],["data-p-icon","info-circle"],["data-p-icon","times-circle"],["data-p-icon","exclamation-triangle"],["type","button","autofocus","",3,"click","keydown.enter"],["data-p-icon","times",3,"class"],[3,"class",4,"ngIf"],["data-p-icon","times"]],template:function(n,o){if(n&1){let l=E();r(0,"div",1,0),f("mouseenter",function(){return _(l),b(o.onMouseEnter())})("mouseleave",function(){return _(l),b(o.onMouseLeave())}),V(2,Rt,1,5,"ng-container")(3,Kt,4,9,"div",2),a()}n&2&&(C(o.cn(o.cx("message"),o.message==null?null:o.message.styleClass)),m("@messageState",Te(12,Dt,Be(7,Vt,o.showTransformOptions,o.hideTransformOptions,o.showTransitionOptions,o.hideTransitionOptions))),g("id",o.message==null?null:o.message.id)("data-pc-name","toast")("data-pc-section","root"),s(2),D(o.headlessTemplate?2:3))},dependencies:[P,Le,me,He,dt,Ot,Mt,pt,ut,L],encapsulation:2,data:{animation:[Ie("messageState",[We("visible",de({transform:"translateY(0)",opacity:1})),pe("void => *",[de({transform:"{{showTransformParams}}",opacity:0}),Oe("{{showTransitionParams}}")]),pe("* => void",[Oe("{{hideTransitionParams}}",de({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0})}return t})(),Ee=(()=>{class t extends Se{key;autoZIndex=!0;baseZIndex=0;life=3e3;styleClass;get position(){return this._position}set position(e){this._position=e,this.cd.markForCheck()}preventOpenDuplicates=!1;preventDuplicates=!1;showTransformOptions="translateY(100%)";hideTransformOptions="translateY(-100%)";showTransitionOptions="300ms ease-out";hideTransitionOptions="250ms ease-in";breakpoints;onClose=new k;template;headlessTemplate;messageSubscription;clearSubscription;messages;messagesArchieve;_position="top-right";messageService=K(M);_componentStyle=K(ve);styleElement;id=j("pn_id_");templates;constructor(){super()}ngOnInit(){super.ngOnInit(),this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e)if(Array.isArray(e)){let n=e.filter(o=>this.canAdd(o));this.add(n)}else this.canAdd(e)&&this.add([e])}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}_template;_headlessTemplate;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"message":this._template=e.template;break;case"headless":this._headlessTemplate=e.template;break;default:this._template=e.template;break}})}ngAfterViewInit(){super.ngAfterViewInit(),this.breakpoints&&this.createStyle()}add(e){this.messages=this.messages?[...this.messages,...e]:[...e],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...e]:[...e]),this.cd.markForCheck()}canAdd(e){let n=this.key===e.key;return n&&this.preventOpenDuplicates&&(n=!this.containsMessage(this.messages,e)),n&&this.preventDuplicates&&(n=!this.containsMessage(this.messagesArchieve,e)),n}containsMessage(e,n){return e?e.find(o=>o.summary===n.summary&&o.detail==n.detail&&o.severity===n.severity)!=null:!1}onMessageClose(e){this.messages?.splice(e.index,1),this.onClose.emit({message:e.message}),this.cd.detectChanges()}onAnimationStart(e){e.fromState==="void"&&(this.renderer.setAttribute(this.el?.nativeElement,this.id,""),this.autoZIndex&&this.el?.nativeElement.style.zIndex===""&&he.set("modal",this.el?.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(e){e.toState==="void"&&this.autoZIndex&&Je(this.messages)&&he.clear(this.el?.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",Me(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement);let e="";for(let n in this.breakpoints){let o="";for(let l in this.breakpoints[n])o+=l+":"+this.breakpoints[n][l]+" !important;";e+=`
                    @media screen and (max-width: ${n}) {
                        .p-toast[${this.id}] {
                           ${o}
                        }
                    }
                `}this.renderer.setProperty(this.styleElement,"innerHTML",e),Me(this.styleElement,"nonce",this.config?.csp()?.nonce)}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.el&&this.autoZIndex&&he.clear(this.el.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle(),super.ngOnDestroy()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=w({type:t,selectors:[["p-toast"]],contentQueries:function(n,o,l){if(n&1&&(te(l,en,5),te(l,tn,5),te(l,ue,4)),n&2){let h;ne(h=ie())&&(o.template=h.first),ne(h=ie())&&(o.headlessTemplate=h.first),ne(h=ie())&&(o.templates=h)}},hostVars:4,hostBindings:function(n,o){n&2&&(O(o.sx("root")),C(o.cn(o.cx("root"),o.styleClass)))},inputs:{key:"key",autoZIndex:[2,"autoZIndex","autoZIndex",le],baseZIndex:[2,"baseZIndex","baseZIndex",B],life:[2,"life","life",B],styleClass:"styleClass",position:"position",preventOpenDuplicates:[2,"preventOpenDuplicates","preventOpenDuplicates",le],preventDuplicates:[2,"preventDuplicates","preventDuplicates",le],showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},features:[q([ve]),S],decls:1,vars:1,consts:[[3,"message","index","life","template","headlessTemplate","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"onClose","message","index","life","template","headlessTemplate","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions"]],template:function(n,o){n&1&&u(0,nn,1,10,"p-toastItem",0),n&2&&m("ngForOf",o.messages)},dependencies:[P,Ge,rn,L],encapsulation:2,data:{animation:[Ie("toastAnimation",[pe(":enter, :leave",[Xe("@*",Ye())])])]},changeDetection:0})}return t})(),Et=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Re({type:t});static \u0275inj=Ae({imports:[Ee,L,L]})}return t})();var $=class t{constructor(i){this.http=i}apiUrl=`${ge.apiUrl}/users`;getUsers(i=1,e=10,n=""){let o=new Qe().set("page",i.toString()).set("limit",e.toString());return n&&(o=o.set("search",n)),this.http.get(this.apiUrl,{params:o})}getUser(i){return this.http.get(`${this.apiUrl}/${i}`)}createUser(i){return this.http.post(this.apiUrl,i)}updateUser(i,e){return this.http.patch(`${this.apiUrl}/${i}`,e)}resetPassword(i,e){return this.http.patch(`${this.apiUrl}/${i}/reset-password`,{newPassword:e})}deleteUser(i){return this.http.delete(`${this.apiUrl}/${i}`)}static \u0275fac=function(e){return new(e||t)(J(ce))};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ce=class t{constructor(i){this.http=i}apiUrl=`${ge.apiUrl}/roles`;getRoles(){return this.http.get(this.apiUrl)}static \u0275fac=function(e){return new(e||t)(J(ce))};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})};var pn=()=>({width:"600px"}),G=()=>({width:"100%"});function un(t,i){t&1&&(r(0,"span"),c(1,"Este campo es requerido"),a())}function gn(t,i){t&1&&(r(0,"span"),c(1,"M\xEDnimo 2 caracteres"),a())}function fn(t,i){if(t&1&&(r(0,"small",25),u(1,un,2,0,"span",26)(2,gn,2,0,"span",26),a()),t&2){let e,n,o=d();s(),m("ngIf",(e=o.userForm.get("nombres"))==null||e.errors==null?null:e.errors.required),s(),m("ngIf",(n=o.userForm.get("nombres"))==null||n.errors==null?null:n.errors.minlength)}}function hn(t,i){t&1&&(r(0,"span"),c(1,"Este campo es requerido"),a())}function _n(t,i){t&1&&(r(0,"span"),c(1,"M\xEDnimo 2 caracteres"),a())}function bn(t,i){if(t&1&&(r(0,"small",25),u(1,hn,2,0,"span",26)(2,_n,2,0,"span",26),a()),t&2){let e,n,o=d();s(),m("ngIf",(e=o.userForm.get("apellidos"))==null||e.errors==null?null:e.errors.required),s(),m("ngIf",(n=o.userForm.get("apellidos"))==null||n.errors==null?null:n.errors.minlength)}}function vn(t,i){t&1&&(r(0,"span"),c(1,"Este campo es requerido"),a())}function Cn(t,i){t&1&&(r(0,"span"),c(1,"Email inv\xE1lido (ej: usuario@ejemplo.com)"),a())}function yn(t,i){t&1&&(r(0,"span"),c(1,"DNI inv\xE1lido (exactamente 8 d\xEDgitos num\xE9ricos)"),a())}function xn(t,i){if(t&1&&(r(0,"small",25),u(1,vn,2,0,"span",26)(2,Cn,2,0,"span",26)(3,yn,2,0,"span",26),a()),t&2){let e,n,o,l=d();s(),m("ngIf",(e=l.userForm.get("identifier"))==null||e.errors==null?null:e.errors.required),s(),m("ngIf",(n=l.userForm.get("identifier"))==null||n.errors==null?null:n.errors.invalidEmail),s(),m("ngIf",(o=l.userForm.get("identifier"))==null||o.errors==null?null:o.errors.invalidDni)}}function wn(t,i){t&1&&(r(0,"span"),c(1,"Este campo es requerido"),a())}function Tn(t,i){t&1&&(r(0,"span"),c(1,"M\xEDnimo 6 caracteres"),a())}function In(t,i){if(t&1&&(r(0,"small",25),u(1,wn,2,0,"span",26)(2,Tn,2,0,"span",26),a()),t&2){let e,n,o=d(2);s(),m("ngIf",(e=o.userForm.get("clave"))==null||e.errors==null?null:e.errors.required),s(),m("ngIf",(n=o.userForm.get("clave"))==null||n.errors==null?null:n.errors.minlength)}}function On(t,i){if(t&1&&(r(0,"div",3)(1,"label",27),c(2,"Contrase\xF1a *"),a(),p(3,"p-password",28),u(4,In,3,2,"small",6),a()),t&2){let e,n,o=d();s(3),R("ng-invalid",((e=o.userForm.get("clave"))==null?null:e.invalid)&&((e=o.userForm.get("clave"))==null?null:e.touched)),m("toggleMask",!0)("feedback",!1)("inputStyle",I(6,G)),s(),m("ngIf",((n=o.userForm.get("clave"))==null?null:n.invalid)&&((n=o.userForm.get("clave"))==null?null:n.touched))}}function Mn(t,i){t&1&&(r(0,"small",25),c(1," Este campo es requerido "),a())}var ye=class t{constructor(i,e,n,o,l,h){this.fb=i;this.userService=e;this.roleService=n;this.sedeService=o;this.edificioService=l;this.messageService=h}visible=!1;user=null;visibleChange=new k;formSubmit=new k;userForm;roles=[];sedes=[];edificios=[];identifierTypes=[{label:"DNI",value:"dni"},{label:"Email",value:"email"}];loading=!1;ngOnInit(){this.initForm(),this.loadRoles(),this.loadSedes()}ngOnChanges(i){i.visible&&this.visible&&this.userForm&&this.updateForm(),i.user&&this.userForm&&this.updateForm()}initForm(){this.userForm=this.fb.group({nombres:["",[y.required,y.minLength(2)]],apellidos:["",[y.required,y.minLength(2)]],identifier:["",[y.required,this.identifierValidator.bind(this)]],identifierType:["email",y.required],clave:["",[y.required,y.minLength(6)]],roleId:["",y.required],sedeId:[""],edificioId:[""],telefono:[""]}),this.userForm.get("identifierType")?.valueChanges.subscribe(()=>{this.userForm.get("identifier")?.setValue(""),this.userForm.get("identifier")?.updateValueAndValidity()})}identifierValidator(i){if(!i.value)return null;let e=this.userForm?.get("identifierType")?.value;return e==="email"?/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(i.value)?(i.value!==i.value.toLowerCase()&&i.setValue(i.value.toLowerCase(),{emitEvent:!1}),null):{invalidEmail:!0}:e==="dni"?/^[0-9]{8}$/.test(i.value)?null:{invalidDni:!0}:null}updateForm(){this.user?(this.userForm.patchValue({nombres:this.user.nombres,apellidos:this.user.apellidos,identifier:this.user.identifier,identifierType:this.user.identifierType,roleId:this.user.roleId,sedeId:this.user.sedeId,edificioId:this.user.edificioId,telefono:this.user.telefono}),this.userForm.get("clave")?.clearValidators(),this.userForm.get("clave")?.updateValueAndValidity(),this.user.sedeId&&this.edificioService.getEdificios(this.user.sedeId).subscribe({next:i=>{this.edificios=i.map(e=>({label:e.nombre,value:e.id}))}})):(this.userForm.reset({identifierType:"email"}),this.userForm.get("clave")?.setValidators([y.required,y.minLength(6)]),this.userForm.get("clave")?.updateValueAndValidity(),this.edificios=[])}loadRoles(){this.roleService.getRoles().subscribe({next:i=>{this.roles=i.map(e=>({label:e.nombre,value:e.id}))},error:i=>{console.error("Error loading roles:",i),this.messageService.add({severity:"error",summary:"Error",detail:"No se pudieron cargar los roles"})}})}loadSedes(){this.sedeService.getSedes().subscribe({next:i=>{this.sedes=i.map(e=>({label:e.nombre,value:e.id}))},error:i=>{console.error("Error loading sedes:",i),this.messageService.add({severity:"error",summary:"Error",detail:"No se pudieron cargar las sedes"})}})}onSedeChange(i){let e=i.value;e?this.edificioService.getEdificios(e).subscribe({next:n=>{this.edificios=n.map(o=>({label:o.nombre,value:o.id}))},error:n=>{console.error("Error loading edificios:",n)}}):(this.edificios=[],this.userForm.patchValue({edificioId:null}))}onSubmit(){if(this.userForm.valid){this.loading=!0;let i=De({},this.userForm.value);this.user&&(!i.clave||i.clave.trim()==="")&&delete i.clave,(this.user?this.userService.updateUser(this.user.id,i):this.userService.createUser(i)).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"\xC9xito",detail:`Usuario ${this.user?"actualizado":"creado"} correctamente`}),this.loading=!1,this.closeDialog(),this.formSubmit.emit()},error:n=>{this.messageService.add({severity:"error",summary:"Error",detail:n.error?.message||"Error al guardar usuario"}),this.loading=!1}})}else Object.keys(this.userForm.controls).forEach(i=>{this.userForm.get(i)?.markAsTouched()})}closeDialog(){this.visible=!1,this.visibleChange.emit(!1),this.userForm.reset()}static \u0275fac=function(e){return new(e||t)(v(st),v($),v(Ce),v(Tt),v(It),v(M))};static \u0275cmp=w({type:t,selectors:[["app-user-form"]],inputs:{visible:"visible",user:"user"},outputs:{visibleChange:"visibleChange",formSubmit:"formSubmit"},features:[Ne],decls:43,vars:45,consts:[[3,"visibleChange","onHide","visible","modal","header"],[3,"ngSubmit","formGroup"],[1,"form-grid"],[1,"form-field"],["for","nombres"],["pInputText","","id","nombres","formControlName","nombres","placeholder","Ingrese nombres"],["class","p-error",4,"ngIf"],["for","apellidos"],["pInputText","","id","apellidos","formControlName","apellidos","placeholder","Ingrese apellidos"],["for","identifierType"],["id","identifierType","formControlName","identifierType","placeholder","Seleccione tipo",3,"options"],["for","identifier"],["pInputText","","id","identifier","formControlName","identifier",3,"type","placeholder","maxlength"],["class","form-field",4,"ngIf"],["for","roleId"],["id","roleId","formControlName","roleId","placeholder","Seleccione un rol",3,"options"],["for","sedeId"],["id","sedeId","formControlName","sedeId","placeholder","Seleccione una sede",3,"onChange","options","showClear"],["for","edificioId"],["id","edificioId","formControlName","edificioId","placeholder","Seleccione un edificio",3,"options","showClear","disabled"],["for","telefono"],["pInputText","","id","telefono","formControlName","telefono","placeholder","Ingrese tel\xE9fono"],[1,"form-actions"],["label","Cancelar","variant","secondary","icon","pi pi-times","type","button",3,"onClick"],["variant","primary","icon","pi pi-check","type","submit",3,"label","loading"],[1,"p-error"],[4,"ngIf"],["for","clave"],["id","clave","formControlName","clave","placeholder","M\xEDnimo 6 caracteres","styleClass","w-full",3,"toggleMask","feedback","inputStyle"]],template:function(e,n){if(e&1&&(r(0,"p-dialog",0),se("visibleChange",function(l){return re(n.visible,l)||(n.visible=l),l}),f("onHide",function(){return n.closeDialog()}),r(1,"form",1),f("ngSubmit",function(){return n.onSubmit()}),r(2,"div",2)(3,"div",3)(4,"label",4),c(5,"Nombres *"),a(),p(6,"input",5),u(7,fn,3,2,"small",6),a(),r(8,"div",3)(9,"label",7),c(10,"Apellidos *"),a(),p(11,"input",8),u(12,bn,3,2,"small",6),a(),r(13,"div",3)(14,"label",9),c(15,"Tipo de Identificador *"),a(),p(16,"p-select",10),a(),r(17,"div",3)(18,"label",11),c(19),a(),p(20,"input",12),u(21,xn,4,3,"small",6),a(),u(22,On,5,7,"div",13),r(23,"div",3)(24,"label",14),c(25,"Rol *"),a(),p(26,"p-select",15),u(27,Mn,2,0,"small",6),a(),r(28,"div",3)(29,"label",16),c(30,"Sede"),a(),r(31,"p-select",17),f("onChange",function(l){return n.onSedeChange(l)}),a()(),r(32,"div",3)(33,"label",18),c(34,"Edificio/Pabell\xF3n"),a(),p(35,"p-select",19),a(),r(36,"div",3)(37,"label",20),c(38,"Tel\xE9fono"),a(),p(39,"input",21),a()(),r(40,"div",22)(41,"app-button",23),f("onClick",function(){return n.closeDialog()}),a(),p(42,"app-button",24),a()()()),e&2){let o,l,h,H,Pe,Q,Fe,Ue,ke,W,Y,X,Ve;O(I(40,pn)),ae("visible",n.visible),m("modal",!0)("header",n.user?"Editar Usuario":"Nuevo Usuario"),s(),m("formGroup",n.userForm),s(5),R("ng-invalid",((o=n.userForm.get("nombres"))==null?null:o.invalid)&&((o=n.userForm.get("nombres"))==null?null:o.touched)),s(),m("ngIf",((l=n.userForm.get("nombres"))==null?null:l.invalid)&&((l=n.userForm.get("nombres"))==null?null:l.touched)),s(4),R("ng-invalid",((h=n.userForm.get("apellidos"))==null?null:h.invalid)&&((h=n.userForm.get("apellidos"))==null?null:h.touched)),s(),m("ngIf",((H=n.userForm.get("apellidos"))==null?null:H.invalid)&&((H=n.userForm.get("apellidos"))==null?null:H.touched)),s(4),O(I(41,G)),m("options",n.identifierTypes),s(3),oe(" ",((Pe=n.userForm.get("identifierType"))==null?null:Pe.value)==="email"?"Correo Electr\xF3nico":"DNI"," * "),s(),R("ng-invalid",((Q=n.userForm.get("identifier"))==null?null:Q.invalid)&&((Q=n.userForm.get("identifier"))==null?null:Q.touched)),m("type",(((Fe=n.userForm.get("identifierType"))==null?null:Fe.value)==="dni","text"))("placeholder",((Ue=n.userForm.get("identifierType"))==null?null:Ue.value)==="email"?"usuario@ejemplo.com":"12345678")("maxlength",((ke=n.userForm.get("identifierType"))==null?null:ke.value)==="dni"?8:100),s(),m("ngIf",((W=n.userForm.get("identifier"))==null?null:W.invalid)&&((W=n.userForm.get("identifier"))==null?null:W.touched)),s(),m("ngIf",!n.user),s(4),O(I(42,G)),R("ng-invalid",((Y=n.userForm.get("roleId"))==null?null:Y.invalid)&&((Y=n.userForm.get("roleId"))==null?null:Y.touched)),m("options",n.roles),s(),m("ngIf",((X=n.userForm.get("roleId"))==null?null:X.invalid)&&((X=n.userForm.get("roleId"))==null?null:X.touched)),s(4),O(I(43,G)),m("options",n.sedes)("showClear",!0),s(4),O(I(44,G)),m("options",n.edificios)("showClear",!0)("disabled",!((Ve=n.userForm.get("sedeId"))!=null&&Ve.value)),s(7),m("label",n.user?"Actualizar":"Crear")("loading",n.loading)}},dependencies:[P,me,lt,it,et,tt,nt,rt,ot,at,wt,xt,_e,ct,mt,gt,ht,be],styles:[".form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1.5rem;margin-bottom:1.5rem}.form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#374151;font-size:.875rem}.form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-field[_ngcontent-%COMP%]   p-dropdown[_ngcontent-%COMP%]{width:100%}.form-field[_ngcontent-%COMP%]     .p-password{width:100%}.form-field[_ngcontent-%COMP%]     .p-password input{width:100%}.form-field[_ngcontent-%COMP%]     .p-select, .form-field[_ngcontent-%COMP%]     .p-inputtext{width:100%}.form-field[_ngcontent-%COMP%]   small.p-error[_ngcontent-%COMP%]{color:#ef4444;font-size:.75rem}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.75rem;padding-top:1rem;border-top:1px solid #e5e7eb}"]})};var Sn=()=>[10,25,50];function En(t,i){t&1&&(r(0,"tr")(1,"th",12),c(2,"Nombre Completo "),p(3,"p-sortIcon",13),a(),r(4,"th",14),c(5,"Identificador "),p(6,"p-sortIcon",15),a(),r(7,"th",16),c(8,"Tipo "),p(9,"p-sortIcon",17),a(),r(10,"th",18),c(11,"Rol "),p(12,"p-sortIcon",19),a(),r(13,"th",20),c(14,"Sede "),p(15,"p-sortIcon",21),a(),r(16,"th",22),c(17,"Edificio "),p(18,"p-sortIcon",23),a(),r(19,"th",24),c(20,"Tel\xE9fono "),p(21,"p-sortIcon",25),a(),r(22,"th",26),c(23,"Acciones"),a()())}function Pn(t,i){if(t&1){let e=E();r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),a(),r(5,"td"),c(6),a(),r(7,"td"),c(8),a(),r(9,"td"),c(10),a(),r(11,"td"),c(12),a(),r(13,"td"),c(14),a(),r(15,"td",27)(16,"app-button",28),f("onClick",function(){let o=_(e).$implicit,l=d();return b(l.onEditUser(o))}),a(),r(17,"app-button",29),f("onClick",function(){let o=_(e).$implicit,l=d();return b(l.onResetPassword(o.id))}),a(),r(18,"app-button",30),f("onClick",function(){let o=_(e).$implicit,l=d();return b(l.onDeleteUser(o.id))}),a()()()}if(t&2){let e=i.$implicit,n=d();s(2),$e("",e.nombres," ",e.apellidos),s(2),T(e.identifier),s(2),T(e.identifierType==="dni"?"DNI":"Email"),s(2),T(n.getRoleName(e)),s(2),T((e.sede==null?null:e.sede.nombre)||"-"),s(2),T((e.edificio==null?null:e.edificio.nombre)||"-"),s(2),T(e.telefono||"-"),s(2),m("rounded",!0)("iconOnly",!0),s(),m("rounded",!0)("iconOnly",!0),s(),m("rounded",!0)("iconOnly",!0)}}function Fn(t,i){if(t&1){let e=E();r(0,"tr")(1,"td",31)(2,"div",32),p(3,"i",33),r(4,"p"),c(5,"No hay usuarios registrados"),a(),r(6,"app-button",34),f("onClick",function(){_(e);let o=d();return b(o.onNewUser())}),a()()()()}}var xe=class t{constructor(i,e){this.userService=i;this.messageService=e}users=[];loading=!1;showUserForm=!1;selectedUser=null;page=1;limit=10;totalRecords=0;ngOnInit(){this.loadUsers()}loadUsers(){this.loading=!0,this.userService.getUsers(this.page,this.limit).subscribe({next:i=>{this.users=i.users,this.totalRecords=i.total,this.loading=!1},error:i=>{console.error("Error loading users:",i),this.messageService.add({severity:"error",summary:"Error",detail:"Error al cargar usuarios"}),this.loading=!1}})}onNewUser(){this.selectedUser=null,this.showUserForm=!0}onEditUser(i){this.selectedUser=i,this.showUserForm=!0}onDeleteUser(i){confirm("\xBFEst\xE1s seguro de eliminar este usuario?")&&this.userService.deleteUser(i).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"\xC9xito",detail:"Usuario eliminado correctamente"}),this.loadUsers()},error:e=>{this.messageService.add({severity:"error",summary:"Error",detail:"Error al eliminar usuario"})}})}onResetPassword(i){let e=prompt("Ingrese la nueva contrase\xF1a:");e&&e.length>=6&&this.userService.resetPassword(i,e).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"\xC9xito",detail:"Contrase\xF1a actualizada correctamente"})},error:n=>{this.messageService.add({severity:"error",summary:"Error",detail:"Error al actualizar contrase\xF1a"})}})}onFormClose(){this.showUserForm=!1,this.selectedUser=null,this.loadUsers()}getRoleName(i){let e=i.role;return typeof e=="string"?e:e?.nombre||"-"}static \u0275fac=function(e){return new(e||t)(v($),v(M))};static \u0275cmp=w({type:t,selectors:[["app-user-management-page"]],features:[q([M])],decls:15,vars:9,consts:[[1,"user-management-page"],[3,"visibleChange","formSubmit","visible","user"],[1,"management-section"],[1,"section-title"],["filters",""],["actions",""],["label","Nuevo Usuario","variant","success","icon","pi pi-plus",3,"onClick"],[1,"users-table-card"],["currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} usuarios","styleClass","p-datatable-sm","responsiveLayout","scroll",3,"value","loading","paginator","rows","showCurrentPageReport","rowsPerPageOptions"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pSortableColumn","nombres"],["field","nombres"],["pSortableColumn","identifier"],["field","identifier"],["pSortableColumn","identifierType"],["field","identifierType"],["pSortableColumn","role"],["field","role"],["pSortableColumn","sede.nombre"],["field","sede.nombre"],["pSortableColumn","edificio.nombre"],["field","edificio.nombre"],["pSortableColumn","telefono"],["field","telefono"],[1,"text-center"],[1,"text-center","actions-cell"],["icon","pi pi-pencil","variant","info","tooltip","Editar",3,"onClick","rounded","iconOnly"],["icon","pi pi-key","variant","warning","tooltip","Resetear Contrase\xF1a",3,"onClick","rounded","iconOnly"],["icon","pi pi-trash","variant","danger","tooltip","Eliminar",3,"onClick","rounded","iconOnly"],["colspan","8",1,"empty-message"],[1,"no-data"],[1,"pi","pi-users",2,"font-size","3rem","color","#ccc"],["label","Crear Primer Usuario","variant","success","icon","pi pi-plus",3,"onClick"]],template:function(e,n){e&1&&(r(0,"div",0),p(1,"p-toast"),r(2,"app-user-form",1),se("visibleChange",function(l){return re(n.showUserForm,l)||(n.showUserForm=l),l}),f("formSubmit",function(){return n.onFormClose()}),a(),r(3,"section",2)(4,"h2",3),c(5,"Gesti\xF3n de Usuarios"),a(),r(6,"app-filter-bar"),p(7,"div",4),r(8,"div",5)(9,"app-button",6),f("onClick",function(){return n.onNewUser()}),a()()(),r(10,"div",7)(11,"p-table",8),u(12,En,24,0,"ng-template",9)(13,Pn,19,14,"ng-template",10)(14,Fn,7,0,"ng-template",11),a()()()()),e&2&&(s(2),ae("visible",n.showUserForm),m("user",n.selectedUser),s(9),m("value",n.users)("loading",n.loading)("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",I(8,Sn)))},dependencies:[P,Et,Ee,ue,_e,yt,bt,vt,Ct,ft,ye,be,_t],styles:[".user-management-page[_ngcontent-%COMP%]{padding:clamp(1rem,2vw,1.5rem);max-width:1400px;margin:0 auto}.user-management-page[_ngcontent-%COMP%]   .management-section[_ngcontent-%COMP%]{margin-bottom:clamp(2rem,4vw,3rem)}.user-management-page[_ngcontent-%COMP%]   .management-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:clamp(1.25rem,2.5vw,1.75rem);font-weight:700;color:#0d2a72;margin:0 0 clamp(1rem,2vw,1.5rem) 0;padding-bottom:.75rem;border-bottom:3px solid #0D2A72}.user-management-page[_ngcontent-%COMP%]   .users-table-card[_ngcontent-%COMP%]{background:var(--surface-card);border-radius:8px;padding:clamp(1rem,3vw,1.5rem);box-shadow:0 2px 4px #0000001a}.user-management-page[_ngcontent-%COMP%]   .users-table-card[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:clamp(2rem,5vw,3rem);color:#999}.user-management-page[_ngcontent-%COMP%]   .users-table-card[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:1rem 0;font-size:var(--text-base)}.user-management-page[_ngcontent-%COMP%]   .users-table-card[_ngcontent-%COMP%]     .p-datatable .p-datatable-header{background:#f8f9fa;border:1px solid #e9ecef;padding:1rem;font-weight:var(--font-semibold)}.user-management-page[_ngcontent-%COMP%]   .users-table-card[_ngcontent-%COMP%]     .p-datatable .p-datatable-thead>tr>th{background-color:#0d2a72;color:#fff;border:1px solid #0a1f54;padding:1rem;font-weight:var(--font-semibold);font-size:var(--text-sm);text-align:left}.user-management-page[_ngcontent-%COMP%]   .users-table-card[_ngcontent-%COMP%]     .p-datatable .p-datatable-thead>tr>th.text-center{text-align:center}.user-management-page[_ngcontent-%COMP%]   .users-table-card[_ngcontent-%COMP%]     .p-datatable .p-datatable-thead>tr>th .p-sortable-column-icon{color:#fff;margin-left:.5rem}.user-management-page[_ngcontent-%COMP%]   .users-table-card[_ngcontent-%COMP%]     .p-datatable .p-datatable-thead>tr>th:hover{background-color:#0f3085}.user-management-page[_ngcontent-%COMP%]   .users-table-card[_ngcontent-%COMP%]     .p-datatable .p-datatable-tbody>tr{transition:background-color .2s ease}.user-management-page[_ngcontent-%COMP%]   .users-table-card[_ngcontent-%COMP%]     .p-datatable .p-datatable-tbody>tr:nth-child(2n){background-color:#f8f9fa}.user-management-page[_ngcontent-%COMP%]   .users-table-card[_ngcontent-%COMP%]     .p-datatable .p-datatable-tbody>tr:hover{background-color:#e9ecef}.user-management-page[_ngcontent-%COMP%]   .users-table-card[_ngcontent-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{border:1px solid #e9ecef;padding:.875rem 1rem;font-size:var(--text-sm);color:#495057}.user-management-page[_ngcontent-%COMP%]   .users-table-card[_ngcontent-%COMP%]     .p-datatable .p-datatable-tbody>tr>td.text-center{text-align:center}.user-management-page[_ngcontent-%COMP%]   .users-table-card[_ngcontent-%COMP%]     .p-datatable .p-datatable-tbody>tr>td.actions-cell{display:flex;gap:.5rem;justify-content:center;align-items:center}.user-management-page[_ngcontent-%COMP%]   .users-table-card[_ngcontent-%COMP%]     .p-datatable .p-datatable-tbody>tr>td.empty-message{border:none;padding:0}.user-management-page[_ngcontent-%COMP%]   .users-table-card[_ngcontent-%COMP%]     .p-datatable .p-paginator{background:#f8f9fa;border:1px solid #e9ecef;padding:.5rem 1rem}.user-management-page[_ngcontent-%COMP%]   .users-table-card[_ngcontent-%COMP%]     .p-datatable .p-paginator .p-paginator-current{color:#495057;font-size:var(--text-sm)}.user-management-page[_ngcontent-%COMP%]   .users-table-card[_ngcontent-%COMP%]     .p-datatable .p-paginator .p-paginator-pages .p-paginator-page{min-width:2.5rem;height:2.5rem;border-radius:4px;color:#495057}.user-management-page[_ngcontent-%COMP%]   .users-table-card[_ngcontent-%COMP%]     .p-datatable .p-paginator .p-paginator-pages .p-paginator-page.p-highlight{background-color:#0d2a72;border-color:#0d2a72;color:#fff}.user-management-page[_ngcontent-%COMP%]   .users-table-card[_ngcontent-%COMP%]     .p-datatable .p-paginator .p-paginator-pages .p-paginator-page:hover:not(.p-highlight){background-color:#e9ecef}.user-management-page[_ngcontent-%COMP%]   .users-table-card[_ngcontent-%COMP%]     .p-datatable .p-paginator .p-dropdown{border-color:#ced4da}.user-management-page[_ngcontent-%COMP%]   .users-table-card[_ngcontent-%COMP%]     .p-datatable .p-paginator .p-dropdown:hover{border-color:#0d2a72}@media (max-width: 768px){.user-management-page[_ngcontent-%COMP%]{padding:1rem}.user-management-page[_ngcontent-%COMP%]   .management-section[_ngcontent-%COMP%]{margin-bottom:2rem}.user-management-page[_ngcontent-%COMP%]   .management-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:1rem;padding-bottom:.5rem;border-bottom-width:2px}.user-management-page[_ngcontent-%COMP%]   .users-table-card[_ngcontent-%COMP%]{padding:1rem}.user-management-page[_ngcontent-%COMP%]   .users-table-card[_ngcontent-%COMP%]     .p-datatable{font-size:var(--text-xs)}.user-management-page[_ngcontent-%COMP%]   .users-table-card[_ngcontent-%COMP%]     .p-datatable .p-datatable-thead>tr>th{padding:.75rem .5rem;font-size:var(--text-xs);min-width:100px}.user-management-page[_ngcontent-%COMP%]   .users-table-card[_ngcontent-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding:.625rem .5rem;font-size:var(--text-xs);min-width:100px;max-height:3rem;overflow:hidden;line-height:1.4;word-break:break-word;white-space:nowrap;text-overflow:ellipsis}.user-management-page[_ngcontent-%COMP%]   .users-table-card[_ngcontent-%COMP%]     .p-datatable .p-datatable-tbody>tr>td.actions-cell{white-space:normal;overflow:visible}.user-management-page[_ngcontent-%COMP%]   .users-table-card[_ngcontent-%COMP%]     .p-datatable .p-paginator{padding:.5rem;font-size:var(--text-xs)}.user-management-page[_ngcontent-%COMP%]   .users-table-card[_ngcontent-%COMP%]     .p-datatable .p-paginator .p-paginator-pages .p-paginator-page{min-width:2rem;height:2rem}}@media (max-width: 480px){.user-management-page[_ngcontent-%COMP%]{padding:.75rem}.user-management-page[_ngcontent-%COMP%]   .management-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.user-management-page[_ngcontent-%COMP%]   .management-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.125rem}.user-management-page[_ngcontent-%COMP%]   .users-table-card[_ngcontent-%COMP%]{padding:.75rem}.user-management-page[_ngcontent-%COMP%]   .users-table-card[_ngcontent-%COMP%]     .p-datatable .p-datatable-thead>tr>th{padding:.5rem .25rem;min-width:90px}.user-management-page[_ngcontent-%COMP%]   .users-table-card[_ngcontent-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding:.5rem .25rem;min-width:90px;max-height:2.8rem}}"]})};var Bi=[{path:"",component:xe}];export{Bi as USER_MANAGEMENT_ROUTES};

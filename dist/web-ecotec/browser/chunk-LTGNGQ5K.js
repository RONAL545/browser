import{d as s}from"./chunk-Q3PSKWJA.js";import{Q as i}from"./chunk-YLSQQ73F.js";import"./chunk-4CLCTAJ7.js";var e=(o,c)=>{let r=i(s);console.log("ROLE GUARD - Verificando permisos para:",c.url);let t=localStorage.getItem("current_user");if(console.log("ROLE GUARD - User data from localStorage:",t),!t)return console.log("ROLE GUARD - No se encontr\xF3 usuario, redirigiendo a login"),r.navigate(["/auth/login"]),!1;let l=JSON.parse(t),n=l.role?.nombre||l.role;console.log("ROLE GUARD - User role:",n);let a=o.data.allowedRoles;return console.log("ROLE GUARD - Allowed roles:",a),!a||a.length===0?(console.log("ROLE GUARD - No hay restricciones, permitiendo acceso"),!0):a.includes(n)?(console.log("ROLE GUARD - Usuario tiene permisos, permitiendo acceso"),!0):(console.log("ROLE GUARD - Usuario no tiene permisos, redirigiendo a acceso denegado"),r.navigate(["/acceso-denegado"]),!1)};var p=[{path:"datos",canActivate:[e],data:{allowedRoles:["admin"]},loadChildren:()=>import("./chunk-UKGKPIBR.js").then(o=>o.DATA_REPORT_ROUTES)},{path:"segregacion",canActivate:[e],data:{allowedRoles:["admin"]},loadChildren:()=>import("./chunk-YDE66UJN.js").then(o=>o.SEGREGATION_REPORT_ROUTES)},{path:"usuarios",canActivate:[e],data:{allowedRoles:["admin"]},loadChildren:()=>import("./chunk-3BBQVDC7.js").then(o=>o.USER_MANAGEMENT_ROUTES)},{path:"ubicacion",canActivate:[e],data:{allowedRoles:["admin","gestor-ubicaciones"]},loadChildren:()=>import("./chunk-VUGEJPM6.js").then(o=>o.LOCATION_MANAGEMENT_ROUTES)},{path:"",redirectTo:"datos",pathMatch:"full"}];export{p as ADMIN_ROUTES};
